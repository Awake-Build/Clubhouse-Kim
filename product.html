<!DOCTYPE html><!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Mon Jun 13 2022 10:40:35 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6028a6bd6e51f525de8d3d22" data-wf-site="60178db33737f449b5c57dac" lang="en-us">
<head>
  <meta charset="utf-8">
  <title>Clubhouse Kim Product</title>
  <meta content="Clubhouse Kim Product" property="og:title">
  <meta content="https://daks2k3a4ib2z.cloudfront.net/60178db33737f449b5c57dac/60407894f3d3cf14f6cfd093_bc2102d6-db7c-4567-973b-ba42269634ce-p-130x130q80.png" property="og:image">
  <meta content="Clubhouse Kim Product" property="twitter:title">
  <meta content="https://daks2k3a4ib2z.cloudfront.net/60178db33737f449b5c57dac/60407894f3d3cf14f6cfd093_bc2102d6-db7c-4567-973b-ba42269634ce-p-130x130q80.png" property="twitter:image">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/clubhouse-kim.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["PT Sans:400,400italic,700,700italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Lato:100,100italic,300,300italic,400,400italic,700,700italic,900,900italic","Roboto:regular,500"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon"><!--  The core Firebase JS SDK is always required and must be listed first  -->
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-firestore.js"></script>
  <!--  TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries  -->
  <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-analytics.js"></script>
  <script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyAM319WDfL0l30OQdxpZS9z_MYANTmryP0",
    authDomain: "proven-dialect-286811.firebaseapp.com",
    projectId: "proven-dialect-286811",
    storageBucket: "proven-dialect-286811.appspot.com",
    messagingSenderId: "608072789897",
    appId: "1:608072789897:web:76612d4c8e941c861f7b58",
    measurementId: "G-8SP4HDJFVH",
    databaseURL: "https://proven-dialect-286811-default-rtdb.firebaseio.com/"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
  <meta name="google-signin-client_id" content="875635847636-6lqmk4qe7246v4ri53hm6dsro8bbg19u.apps.googleusercontent.com">
  <script src="https://cdn.jsdelivr.net/gh/shoptype/Shoptype-JS@2.6.2/shoptype.js"></script>
  <awakesetup platformid="d62ac8ed-3064-6bea-6a00-d6854fef66c4" apikey="bb15a823-1572-494b-8b7d-3a1255e8f94d" refcode="6135e37b298b4210f7ce8ad6" cartcountmatch="#cart-item-count" css="https://firebasestorage.googleapis.com/v0/b/pinkim.appspot.com/o/shoptype-pinkim.css?alt=media&token=1ab0d48a-e982-4c46-ba1e-063f744d0d7f"></awakesetup>
</head>
<body class="body-4">
  <div class="navigation-top">
    <div class="div-block-2">
      <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
        <div class="container w-container">
          <a href="index.html" class="brand w-nav-brand"><img src="images/Clubhouse-Kim.svg" loading="lazy" alt=""></a>
          <nav role="navigation" class="nav-menu w-nav-menu">
            <a href="rooms.html" class="nav-link-3 w-nav-link">Rooms</a>
            <a href="about-us.html" class="nav-link-2 w-nav-link">About</a>
            <a href="add-room.html" class="nav-link w-nav-link">Add Room</a>
            <a href="#" id="logout-button" class="nav-link-copy w-nav-link">Logout</a>
          </nav>
          <div class="menu-button w-nav-button"><img src="images/Burger.svg" loading="lazy" alt=""></div>
        </div>
      </div>
      <div class="main-menu-carticon">
        <div id="cart-item-count" class="div-block-138">0</div><img src="images/cart.svg" loading="lazy" alt="" class="image-18">
      </div>
      <a id="profile-button" href="coseller.html" class="profilebutton w-inline-block"><img src="images/Profile.svg" loading="lazy" id="coseller-profile-img" alt="" class="image-3"></a>
    </div>
  </div>
  <div class="div-block-34">
    <div class="div-block-35">
      <div class="div-block-32">
        <div class="div-block-55"><img src="https://d3e54v103j8qbb.cloudfront.net/plugins/Basic/assets/placeholder.60f9b1840c.svg" loading="lazy" id="product-featured-image" alt="" class="product-main-image"></div>
        <div id="product-images-list" class="product-images-block">
          <div id="product-image-0" class="product-images"><img src="https://d3e54v103j8qbb.cloudfront.net/plugins/Basic/assets/placeholder.60f9b1840c.svg" loading="lazy" alt="" class="product-template-image"></div>
        </div>
      </div>
      <div class="div-block-21">
        <h1 id="product-title" class="product-main-title">Heading</h1>
        <div>
          <h2 id="product-brand" class="product-brand">Brand</h2>
        </div>
        <h5 id="product-variant" class="product-variant">Variant</h5>
        <div class="div-block-54">
          <h2 id="product-price" class="product-variant-price">$39.95</h2>
          <h2 id="product-fullprice" class="product-variant-fullprice">£39.95</h2>
          <div class="div-block-92">
            <div class="quantity-text">SELECT QTY.:</div>
            <div class="div-block-33 variant-select-copy">
              <div id="product-minus" class="div-block-22-copy1">-</div>
              <div id="product-quantity" class="div-block-36">1</div>
              <div id="product-add" class="div-block-22-copy">+</div>
            </div>
          </div>
        </div>
        <div class="div-block-39">
          <div id="variant-block" class="variant-block">
            <div id="variant-text" class="variant-text">SELECT VARIANT.:</div>
            <div class="div-block-33 variant-select">
              <div class="html-embed-2 w-embed"><select class="variant-select" name="Variant" id="variant" onchange="variantChanged(this);" style="width:100%"></select></div>
            </div>
          </div>
        </div>
        <div class="w-embed w-script">
          <script type="text/javascript">
		const url = new URL(window.location);
		const productId = url.searchParams.get("product-id")??"";
		const platformId = "633c4482-d5c2-c8a0-52d1-f8ad077b1820";
		const shareUrl = "https://pinkim.webflow.io/product?id={productId}";
		const backend = "https://backend.shoptype.com";
		let product;
		let quantity=0;
		setupProductPage(productId);
		document.addEventListener('userLogin', function (e) {userSignedIn();}, false);
		function addQuantity(amount){
			let quant = parseInt(document.getElementById("product-quantity").innerHTML);
			quant+=amount;
			if(quant<0){
				quant=0;
			}
			if(quant>quantity){
				quant=quantity;
			}
			document.getElementById("product-quantity").innerHTML=quant;
		}
		function userSignedIn(){
			if(product){setupShare();}
		}
		function setupProductPage(productId){
			var currency = {"USD":"$", "INR":"₹","GBP":"£"};
			let productUrl = backend + "/products/{productId}";
			productUrl = productUrl.replace('{productId}',productId);
			fetch(productUrl)
			.then(response => response.json())
			.then(productJson => {
				product = productJson;
				vendorId = productJson.vendor.id;
				quantity = productJson.quantity - productJson.quantitySold;
				var pricePrefix = currency[productJson.currency]?" "+currency[productJson.currency]:" " + productJson.currency;
				addImage(productJson.primaryImageSrc,0);
				document.getElementById("product-featured-image").src = productJson.primaryImageSrc.imageSrc;
				if(productJson.secondaryImageSrc){
					for (var i = 0; i < productJson.secondaryImageSrc.length; i++) {
						addImage(productJson.secondaryImageSrc[i],i+1);
					};
				}
				document.getElementById("product-image-0").remove();
				document.getElementById("product-title").innerHTML = productJson.title;
				document.getElementById("product-brand").innerHTML = productJson.vendor.name;
				if(productJson.description){
					document.getElementById("product-description").innerHTML = productJson.description;
				}
				if(productJson.tags){
					document.getElementById("product-tags").innerText = "Tags: " + productJson.tags.join(", ");
				}
				document.getElementById("other-products-title").innerHTML= "Other products from " + productJson.vendor.name;
				var commission = (productJson.variants[0].discountedPrice * productJson.productCommission.percentage)/100;
				addVariants(pricePrefix, productJson.variants);
				document.getElementById("cosell-earn").innerHTML = "NEW! - Earn up to {commission} every co-sale".replace("{commission}", pricePrefix + commission.toFixed(2));
				document.getElementById("product-buy-button").setAttribute("onclick","addToCart()");
        document.getElementById("product-cosell-button").setAttribute("onclick",'showCosell("'+ productId +'")');
				document.getElementById("product-minus").setAttribute("onclick","addQuantity(-1)");
				document.getElementById("product-add").setAttribute("onclick","addQuantity(1)");
			});
		}
		function addVariants(pricePrefix, variants){
			var variant = document.getElementById("variant");
			for (var i = 0; i < variants.length; i++) {
				var option = document.createElement("option");
				var key = Object.keys(variants[i].variantNameValue);
				document.getElementsByClassName("variant-text")[0].innerHTML = "Select " + key[0];
				option.text = variants[i].variantNameValue[key[0]] + pricePrefix + variants[i].discountedPrice;
				option.setAttribute("value", variants[i].id);
				if(variants[i].imageIds){
					option.setAttribute("imageId", variants[i].imageIds[0]);
				}
				let price = parseFloat(variants[i].discountedPrice);
				option.setAttribute("price", pricePrefix+ price.toFixed(2));
				option.setAttribute("quantity",variants[i].quantity);
				option.setAttribute("title",variants[i].variantNameValue.title);
				option.setAttribute("price", pricePrefix+ variants[i].discountedPrice);
				if(variants.length==1){
					document.getElementsByClassName("product-variant")[0].innerHTML = variants[i].variantNameValue.title;
					document.getElementById("product-price").innerHTML = pricePrefix + variants[i].discountedPrice;
					document.getElementById("variant-block").style.display='none';
					document.getElementById("product-variant").style.display='none';
				}
				variant.add(option);
			};
			variant.selectedIndex=0;
			variantChanged(variant);
		}
		function variantChanged(elem){
			var selectedOption = elem.options[elem.selectedIndex]
			var imageId = selectedOption.getAttribute('imageid');
			var title = selectedOption.getAttribute('title');
			var price = selectedOption.getAttribute('price');
			var quantity = selectedOption.getAttribute('quantity');
			if(imageId){
				changeImage(imageId);
			}
			document.getElementById("product-variant").innerHTML = title;
			document.getElementById("product-price").innerHTML = price;
			if(quantity<1){
				document.getElementById("product-buy-button").innerHTML = "SOLD-OUT";
				document.getElementById("product-buy-button").setAttribute("onclick","");
			}
		}
		function addClass(element, className){
			arr = element.className.split(" ");
			if (arr.indexOf(className) == -1) {
				element.className += " " + className;
			}
		}
		function removeClass(element, className){
			element.className = element.className.replace(className,"");	
		}
		String.prototype.replaceAll = function(target, replacement) {
			return this.split(target).join(replacement);
		};
		function addImage(image,count){
			var productImgTemplate = document.getElementById("product-image-0");
			var imagesList = document.getElementById("product-images-list");
			var productImage = productImgTemplate.cloneNode(true);
			var imageId = "product-img-" + count;
			productImage.children[0].src = image.imageSrc;
			productImage.children[0].setAttribute("id",image.id);
			productImage.setAttribute("id",imageId);
			productImage.setAttribute("onclick", "changeImage('"+image.id+"')");
			removeClass(productImage,"hidden");
			imagesList.appendChild(productImage);
		}
		function changeImage(imageId){
			document.getElementById("product-featured-image").src = document.getElementById(imageId).src;
		}
		function quantityChanged(){
			var quant = document.getElementById("quantity");
			var max = parseInt(quant.getAttribute("max"));
			var value = quant.value;
			if(value>max){
				quant.value = max;
			}
		}
	function addToCart(){
		openCart();
		var variantId = variant.options[variant.selectedIndex].value;
		let quantity = parseInt(document.getElementById("product-quantity").innerHTML);
		addProduct(product.vendor.id, productId, variantId, quantity, hideCartTitle);
		return false;
	}
	</script>
        </div>
        <div class="div-block-60">
          <div id="product-cosell-button" class="product-cosell-button">COSELL</div>
          <div id="product-buy-button" class="product-button">BUY</div>
        </div>
        <div class="arrow-top"></div>
      </div>
      <div class="div-block-93">
        <div id="cosell-earn" class="text-block-20">NEW! - Earn up to $ 5 every co-sale<br></div>
        <div class="text-block-20">Become a Coseller to get rewarded real money through attributions, and much more! <a href="people.html" class="link">Tap here to learn about Cosell</a>
        </div>
      </div>
      <div id="product-description" class="product-description"></div>
      <div id="product-tags" class="product-tags"></div>
    </div>
  </div>
  <h2 id="other-products-title" class="other-products-title">Other products from </h2>
  <div class="products-list">
    <div class="st-cart-title">
      <div id="list-product-000" class="list-product-2">
        <a href="#" class="product-link w-inline-block"><img src="https://d3e54v103j8qbb.cloudfront.net/plugins/Basic/assets/placeholder.60f9b1840c.svg" loading="lazy" alt="" class="product-listing-image">
          <div class="product-price">$00.00</div>
          <h3 class="product-title2">Heading</h3>
        </a>
      </div>
      <div class="w-embed w-script">
        <script type="text/javascript">
   var pageUrl = new URL(window.location);
   var productsPlatformId = "d62ac8ed-3064-6bea-6a00-d6854fef66c4";
   var productsOffset = 0;
   var productsCount = 20;
   var loadingProducts = false;
   function addProducts(tag){
     if(loadingProducts){return;}
     loadingProducts = true;
     var currency = {"USD":"$", "INR":"₹","GBP":"£"};
     var fetchProductsUrl = "https://backend.shoptype.com/platforms/{pId}/products?count={productsCount}&offset={productsOffset}&tags={tag}";
     fetchProductsUrl = fetchProductsUrl.replace('{pId}',productsPlatformId);
     fetchProductsUrl = fetchProductsUrl.replace('{tag}',tag);
     fetchProductsUrl = fetchProductsUrl.replace('{productsCount}',productsCount);
     fetchProductsUrl = fetchProductsUrl.replace('{productsOffset}',productsOffset);
     fetch(fetchProductsUrl)
       .then(response => response.json())
       .then(productsJson => {
         var productTemplate = document.getElementById("list-product-000");
         var productListBlock = document.getElementsByClassName("products-list")[0];
         console.info(productsJson);         
         if(!productsJson.products){
           loadingProducts=false;
           return;
         }
         for (var i = 0; i < productsJson.products.length; i++) {
           var clone = productTemplate.cloneNode(true);
           var pricePrefix = currency[productsJson.products[i].currency]?" "+currency[productsJson.products[i].currency]:" " + productsJson.products[i].currency;
           clone.getElementsByClassName("product-link")[0].setAttribute("href", "/product?product-id="+productsJson.products[i].id);
           clone.setAttribute("productId", productsJson.products[i].id);
           clone.setAttribute("id",productsJson.products[i].id);
           clone.getElementsByClassName('product-listing-image')[0].src = productsJson.products[i].primaryImageSrc.imageSrc;
           var variant = productsJson.products[i].variants[0]
           clone.getElementsByClassName('product-price')[0].innerHTML = pricePrefix + variant.discountedPrice;
           if(variant.discountedPrice<variant.price){
             //clone.getElementsByClassName('market-product-price-full')[0].innerHTML =pricePrefix + variant.price;
           }else{
             //clone.getElementsByClassName('market-product-price-full')[0].style.display = 'none';
           }
           clone.getElementsByClassName('product-title2')[0].innerHTML = productsJson.products[i].title;
           //clone.getElementsByClassName('market-brand-image')[0].src = vendors[productsJson.products[i].catalogId].logo;
           //clone.getElementsByClassName('market-product-brand')[0].setAttribute("brandId", productsJson.products[i].catalogId);
           productListBlock.appendChild(clone);
         };
         productTemplate.style.display="none";
         loadingProducts=false;
         productsOffset+=productsJson.products.length;
       });
   }
   addProducts("");
</script>
      </div>
    </div>
  </div>
  <div id="cosell-mask" class="cosell-mask">
    <div id="cosell-options" class="cosell-options">
      <div class="w-embed w-script">
        <script type="text/javascript">
	document.getElementById("cosell-mask").setAttribute("onclick","hideCosell()")
	document.getElementById("product-cosell-button").setAttribute("onclick","showCosell()");
  document.getElementById("cosell-options").setAttribute("onclick","event.stopPropagation()");
  function setupShare(){
    	headerOptions.method ='get';
			headerOptions.headers.Authorization = sessionStorage["token"];
      fetch( st_backend+"/track/publish-slug?productId=" + product.id, headerOptions)
    		.then(response => response.json())
    		.then(trackerJson=>{
    			let sharetxt = "Hey found this really interesting product you may be iterested in ";
    			let params = removeParam("token", window.location.search);
    			let refUrl = window.location.protocol + "//" + window.location.host + window.location.pathname + insertParam("tid", trackerJson.trackerId, params);
    			document.getElementById("fb-link").href = "https://www.facebook.com/sharer/sharer.php?u="	+ refUrl.replace("&","%26");
    			document.getElementById("whatsapp-link").href = "whatsapp://send?text=" + sharetxt + product.title + " " + refUrl.replace("&","%26");
    			document.getElementById("twitter-link").href = "http://twitter.com/share?text=" + sharetxt + "&url="	+ refUrl.replace("&","%26");
    			document.getElementById("pinterest-link").href = "https://pinterest.com/pin/create/link/?url=" + refUrl + "&media=" + product.primaryImageSrc.imageSrc + "&description=" + product.title;
    			document.getElementById("share-link").value = refUrl;
    			document.getElementById("copy-url-btn").setAttribute("onclick","copyUrl()");
    		});
  }
	function showCosell(){
    if(!sessionStorage["userId"] || sessionStorage["userId"]==""){
    	showLogin();
    }else{
    	document.getElementById("cosell-mask").style.display="flex";
      setupShare();  
    }
	}
	function hideCosell(){
		document.getElementById("cosell-mask").style.display="none";
	}
  function copyUrl() {
    var copyText = document.getElementById("share-link");
    copyText.select();
    copyText.setSelectionRange(0, 99999); 
    document.execCommand("copy");
  }
  function removeParam(key, sourceURL) {
    var rtn = sourceURL.split("?")[0],
        param,
        params_arr = [],
        queryString = (sourceURL.indexOf("?") !== -1) ? sourceURL.split("?")[1] : "";
    if (queryString !== "") {
        params_arr = queryString.split("&");
        for (var i = params_arr.length - 1; i >= 0; i -= 1) {
            param = params_arr[i].split("=")[0];
            if (param === key) {
                params_arr.splice(i, 1);
            }
        }
        if (params_arr.length) rtn = rtn + "?" + params_arr.join("&");
    }
    return rtn;
}
function insertParam(key, value, urlParams) {
    key = encodeURIComponent(key);
    value = encodeURIComponent(value);
    var kvp = urlParams.substr(1).split('&');
    let i=0;
    for(; i<kvp.length; i++){ 
        if(kvp[i]==""){
            kvp.pop(); 
            continue;
        }
        if (kvp[i].startsWith(key + '=')) {
            let pair = kvp[i].split('=');
            pair[1] = value;
            kvp[i] = pair.join('=');
            break;
        }
    }
    if(i >= kvp.length){
        kvp[kvp.length] = [key,value].join('=');
    }
    let params = kvp.join('&');
    return "?" + params;
}
</script>
      </div>
      <h4 class="heading-7">Share this product and earn</h4>
      <div class="div-block-86">
        <div class="text-block-16">Share Link</div>
        <div class="div-block-85">
          <div class="html-embed-3 w-embed"><input id="share-link" type="text" style="width:100%;max-width:100%;height:30px;border-radius:5px 0px 0px 5px" readonly=""></div>
          <div id="copy-url-btn" class="div-block-84">COPY</div>
        </div>
      </div>
      <div class="div-block-88">
        <div class="text-block-17">Share on Social Platform</div>
        <div>
          <a id="fb-link" href="https://www.facebook.com/sharer/sharer.php?u=" target="_blank" class="social-link w-inline-block"><img src="images/FB.png" loading="lazy" alt="" class="social-image"></a>
          <a id="pinterest-link" href="#" target="_blank" class="social-link w-inline-block"><img src="images/Pinterest_BW.png" loading="lazy" alt="" class="social-image"></a>
          <a id="whatsapp-link" href="#" target="_blank" class="social-link w-inline-block"><img src="images/WhatsApp_BW.png" loading="lazy" alt="" class="social-image"></a>
          <a id="twitter-link" href="#" target="_blank" class="social-link w-inline-block"><img src="images/Twitter_BW.png" loading="lazy" alt="" class="social-image"></a>
        </div>
      </div>
      <div class="div-block-87">
        <div class="text-block-15">Share on a blog</div>
        <a id="widget-link" href="#" class="link-block-8 w-inline-block">
          <div class="text-block-14">Get the embeddable Widget</div>
        </a>
      </div>
    </div>
  </div>
  <div class="div-block-63"></div>
  <div class="background"></div>
  <div class="div-block-3">
    <div>
      <div class="div-block-5">
        <a href="index.html" class="link-block w-inline-block"><img src="images/Feed-Ico.svg" loading="lazy" alt="" class="image-2">
          <div class="text-block">Feed</div>
        </a>
        <a href="rooms.html" class="link-block w-inline-block"><img src="images/Rooms-Ico.svg" loading="lazy" alt="" class="image-2">
          <div class="text-block">Rooms</div>
        </a>
        <a href="market.html" class="link-block w-inline-block"><img src="images/Market-Ico.svg" loading="lazy" alt="" class="image-2">
          <div class="text-block">Market</div>
        </a>
        <a href="people.html" class="link-block w-inline-block"><img src="images/People-Ico.svg" loading="lazy" alt="" class="image-2">
          <div class="text-block">People</div>
        </a>
        <a href="winners.html" class="link-block w-inline-block"><img src="images/Win-Ico.svg" loading="lazy" alt="" class="image-2">
          <div class="text-block">Win</div>
        </a>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=60178db33737f449b5c57dac" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <script type="text/javascript">
	document.addEventListener("userLogin", function (e) {
		var cosellerStore = firebase.firestore().collection("cosellers");
		var userId = sessionStorage['userId'];
		var cosellerDoc = cosellerStore.doc(userId);
		cosellerDoc.get().then((doc) => {
			if(!doc.exists) {
				let cosellerDetails = {
					id:userId,
					name:sessionStorage['userName'],
					bio:"New to Clubhouse Kim",
					followers: 0,
					following: 0,
					views: 0,
					joiningDate: Date.now()
				}
				updateCosellerDetails(cosellerStore, cosellerDetails);
			}
			let cosellerData = doc.data();
          	if(cosellerData.image && cosellerData.image!=""){
				document.getElementById("coseller-profile-img").src = cosellerData.image;
            }
			updateCosellerMeta(cosellerStore, userId, sessionStorage['token']);
		});
	});
	function updateCosellerDetails(store, cosellerDetails){
		store.doc(cosellerDetails.id).set(cosellerDetails, { merge: true })
			.then(() => {
			})
			.catch((error) => {
				console.error("Error writing document: ", error);
			});
	}
	function updateCosellerMeta(store, userId, token){
		let headerOptions = {
			'headers': {'Authorization': token},
		};
		fetch("https://backend.shoptype.com/coseller-dashboard?viewType=cosellerView&currency=USD", headerOptions)
			.then(response=>response.json())
			.then(userMeta=>{
				let cosellerDetails = {
					id:userId,
				  views: userMeta.total_clicks,
				  total_publishes: userMeta.total_publishes,
				  currency: userMeta.currency,
				  total_commissions: userMeta.total_commissions
				}
				updateCosellerDetails(store, cosellerDetails);
			});
		fetch("https://backend.shoptype.com/coseller-dashboard?viewType=cosellerView&currency=USD", headerOptions)
			.then(response=>response.json())
			.then(userMeta=>{
				let cosellerDetails = {
					id:userId,
				  views: userMeta.total_clicks,
				  total_publishes: userMeta.total_publishes,
				  currency: userMeta.currency,
				  total_commissions: userMeta.total_commissions
				}
				updateCosellerDetails(store, cosellerDetails);
			});
		fetch("https://backend.shoptype.com/referrals", headerOptions)
			.then(response=>response.json())
			.then(userRef=>{
				let cosellerDetails = {
					id:userId,
					referrals: userRef.data.invitees.length
				}
				updateCosellerDetails(store, cosellerDetails);
			});
	}
  function closeCart(){
    checkout = null;
    cartMainFrame.style.right= "-"+cartMainFrame.offsetWidth+"px";
  }
  function hideCartTitle(){
    let cartsList = document.getElementsByClassName("st-vendor-cart");
    let display = "none";
    if(cartsList.length>2){
      display = "flex";
    }
    for(i = 0; i < cartsList.length; i++) {
      cartsList[i].querySelector(".st-cart-title").style.display = display;
    }
  }
  hideCartTitle();
</script>
</body>
</html>